# ê°•ì˜ ëª©í‘œ
* ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì˜ í•™ìŠµ

---

# ì‹¤ìŠµ ì˜ˆì œì˜ êµ¬ì„±

## ğŸ”¥ì˜ˆì œë¥¼ ìœ„í•œ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
* ì–´ë–¤ í•™êµì—ì„œ í•™ìƒê³¼ êµìˆ˜ê°€ í•¨ê»˜ ìˆ˜ì—…í•˜ëŠ” ìƒí™©ì˜ êµ¬í˜„
* í•™êµ ì •ë³´ëŠ” GameInstanceì—ì„œ ì§€ì • 
* ì¸ë¬¼ í´ë˜ìŠ¤(Person)
  * í•™ìƒ í´ë˜ìŠ¤(Student)
  * ì„ ìƒ í´ë˜ìŠ¤(Teacher)


![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/82d3f692-3ca1-4a6b-a25b-719801bc0d86)

## ğŸ”¥ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ ì†ì„±ê³¼ í•¨ìˆ˜
* í´ë˜ìŠ¤ì— ì„¤ì •í•  í”„ë¡œí¼í‹° ì •ë³´
* Personì—ëŠ” DoLessonì´ë¼ëŠ” ê°€ìƒ í•¨ìˆ˜ê°€ ìˆìŒ
  * Studnetì˜ DoLessonì€ ìˆ˜ì—…ì„ ë“£ëŠ” í–‰ë™
  * Teacherì˜ DoLessonì€ ìˆ˜ì—…ì„ ê°€ë¥´ì¹˜ëŠ” í–‰ë™

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/18ab33c1-7474-4df5-96c5-124688825fe4)


### ğŸ’§UPerson í´ë˜ìŠ¤ êµ¬ì¶•
```cpp
// Person.h
// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "UObject/NoExportTypes.h"
#include "Person.generated.h"

/**
 * 
 */
UCLASS()
class OBJECTREFLECTION_API UPerson : public UObject
{
	GENERATED_BODY()
public:
	UPerson();
	
	UFUNCTION()
	virtual void DoLesson();

	// getter, setter í•¨ìˆ˜
	const FString& GetName() const; 
	void SetName(const FString& InName);

protected:
	UPROPERTY()
	FString Name;
	
	UPROPERTY()
	int32 Year;

private:
};
```

```cpp
// Person.cpp
// Fill out your copyright notice in the Description page of Project Settings.


#include "Person.h"

UPerson::UPerson()
{
	Name = TEXT("Default Name");
	Year = 1;
}

void UPerson::DoLesson()
{
	UE_LOG(LogTemp, Log, TEXT("%së‹˜ì´ ìˆ˜ì—…ì— ì°¸ì—¬í•©ë‹ˆë‹¤."), *Name);
}

const FString& UPerson::GetName() const
{
	return Name;
}

void UPerson::SetName(const FString& InName)
{
	Name = InName;
}
```

### ğŸ’§UStudent í´ë˜ìŠ¤ êµ¬ì¶•

```cpp
// Student.h
// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "UObject/NoExportTypes.h"
#include "Person.h"                    // Person.h í—¤ë” íŒŒì¼
#include "Student.generated.h"         // ğŸˆğŸˆ".generated.h" í—¤ë” íŒŒì¼ì€ í•­ìƒ ë§¨ ì•„ë˜ ìœ„ì¹˜ 

/**
 * 
 */
UCLASS()
class OBJECTREFLECTION_API UStudent : public UPerson // UPerson ìƒì†ë°›ê¸°
{
	GENERATED_BODY()
public:
	UStudent();

	virtual void DoLesson() override;

private:
	UPROPERTY()
	int32 Id;
	
};
```

```cpp
// Studnet.cpp
// Fill out your copyright notice in the Description page of Project Settings.


#include "Student.h"

UStudent::UStudent()
{
	Name = TEXT("í™ê¸¸ë™");
	Year = 1;
	Id = 1;
}

void UStudent::DoLesson()
{
	Super::DoLesson(); // UPersonì˜ DoLessonì„ ë¨¼ì € í˜¸ì¶œ

	UE_LOG(LogTemp, Log, TEXT("%dí•™ë…„ %dë°˜ %së‹˜ì´ ìˆ˜ì—…ì„ ë“£ìŠµë‹ˆë‹¤."), Year, Id, *Name);
}
```

### ğŸ’§UTeacher í´ë˜ìŠ¤ êµ¬ì¶•

```cpp
// Teacher.h
// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "UObject/NoExportTypes.h"
#include "Person.h"
#include "Teacher.generated.h"

/**
 * 
 */
UCLASS()
class OBJECTREFLECTION_API UTeacher : public UPerson // Person ìƒì†
{
	GENERATED_BODY()
public:
	UTeacher();

	virtual void DoLesson() override;

private:
	UPROPERTY()
	int32 Id;
	 
};
```

```cpp
// Teacher.cpp
// Fill out your copyright notice in the Description page of Project Settings.


#include "Teacher.h"

UTeacher::UTeacher()
{
	Name = TEXT("ì„ ìƒë‹˜");
	Year = 3;
	Id = 1;
}

void UTeacher::DoLesson()
{
	Super::DoLesson();

	UE_LOG(LogTemp, Log, TEXT("%dë…„ì°¨ ì„ ìƒë‹˜ %së‹˜ì´ ìˆ˜ì—… ê°•ì˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤."), Year, *Name);
}
```

## ğŸ”¥MyGameInstanceì—ì„œ êµ¬í˜„í•´ë³´ê¸°

***ğŸˆğŸˆê¼­!!! ì£¼ì„ì„ ê¼¼ê¼¼íˆ ì½ì–´ë³´ê¸¸ ë°”ë€ë‹¤***

```cpp
// Fill out your copyright notice in the Description page of Project Settings.

// ê¼­ "MyGameInstance.h"ê°€ ìœ„ì— ì„ ì–¸ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ì•„ë‹ˆë©´ UHTì´ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
#include "MyGameInstance.h"
#include "Student.h"
#include "Teacher.h"  

UMyGameInstance::UMyGameInstance()
{
	SchoolName = TEXT("Default SchoolName");
}

void UMyGameInstance::Init()
{
	Super::Init();

	// UStudent í´ë˜ìŠ¤ì— ì†í•´ ìˆëŠ” setter, getter í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬, í•™ìƒ ì´ë¦„ì„ ë³€ê²½í•œë’¤, ì´ë¦„ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸°
	UStudent* Student = NewObject<UStudent>(); // ğŸˆğŸˆì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì´ë¯€ë¡œ newì—°ì‚°ìê°€ ì•„ë‹Œ NewObjectë¡œ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
	Student->SetName(TEXT("ì„ íƒœìš±"));
	UE_LOG(LogTemp, Log, TEXT("ìƒˆë¡œìš´ í•™ìƒ ì´ë¦„: %s"), *Student->GetName());

	// ì–¸ë¦¬ì–¼ ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œ("ì•„, ì´ëŸ° ê¸°ëŠ¥ì´ ìˆë‹¤" ì •ë„ë¡œë§Œ ì´í•´)
	// FProperty í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ UTeacher í´ë˜ìŠ¤ì˜ Name ë©¤ë²„ ë³€ìˆ˜ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ 
	// CurrentTeacherNameì— ê°’ì„ ë„£ì–´ì¤€ë‹¤.
	// ë§Œì•½ UTeacherì— Name ë©¤ë²„ ë³€ìˆ˜ê°€ ì—†ë‹¤ë©´ NULLê°’ì„ ë°˜í™˜í•œë‹¤.
	UTeacher* Teacher = NewObject<UTeacher>();
	FString CurrentTeacherName; // í˜„ì¬ ì„ ìƒë‹˜ì˜ ì´ë¦„ ì •ë³´ë¥¼ ë‹´ì„ FString ë³€ìˆ˜
	FString NewTeacherName(TEXT("íŒŒì›Œë ˆì¸ì € ë§¤ì§í¬ìŠ¤")); // ìƒˆë¡œìš´ ì„ ìƒë‹˜ì˜ ì´ë¦„ì„ ì „í•´ì¤„ FString ë³€ìˆ˜
	FProperty* NameProp = UTeacher::StaticClass()->FindPropertyByName(TEXT("Name"));
	if (NameProp)
	{
		// ì„ ìƒë‹˜ ì´ë¦„ getí•˜ê¸°
		NameProp->GetValue_InContainer(Teacher, &CurrentTeacherName);
		UE_LOG(LogTemp, Log, TEXT("í˜„ì¬ ì„ ìƒë‹˜ ì´ë¦„: %s"), *CurrentTeacherName);

		// ì„ ìƒë‹˜ ì´ë¦„ setí•´ì£¼ê¸°
		NameProp->SetValue_InContainer(Teacher, &NewTeacherName);
		UE_LOG(LogTemp, Log, TEXT("ë¦¬í”Œë ‰ì…˜ ìƒˆë¡œìš´ ì„ ìƒë‹˜ ì´ë¦„: %s"), *NewTeacherName);
		UE_LOG(LogTemp, Log, TEXT("Getter() ìƒˆë¡œìš´ ì„ ìƒë‹˜ ì´ë¦„: %s"), *Teacher->GetName()); // getterë¥¼ ì‚¬ìš©í•´ì„œ ì¶œë ¥
	}

	// Student ê°ì²´ì˜ ë©¤ë²„ í•¨ìˆ˜ DoLesson() ì‹¤í–‰ì‹œí‚¤ê¸° 
	Student->DoLesson();

	// ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•´ì„œ íŠ¹ì • í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸°
	UFunction* DoLessonFunc = Teacher->GetClass()->FindFunctionByName(TEXT("DoLesson"));
	if (DoLessonFunc)
	{
		Teacher->ProcessEvent(DoLessonFunc, nullptr);
	}

}
```

ì•„ë˜ëŠ” ì‹¤í–‰ ê²°ê³¼ë‹¤.

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/32c4afd5-eeea-4ad9-b7f6-4c74cbac25f6)

---

ì´ë²ˆì—ëŠ” ì–¸ë¦¬ì–¼ ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì§ì ‘ í™œìš©í•´ ë³´ì•˜ë‹¤.

ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ í™œìš©í•´ì„œ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ íŠ¹ì •í•œ ì†ì„±ê³¼ í•¨ìˆ˜ë¥¼ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•´ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.

ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ í™œìš©í•˜ê²Œ ë˜ë©´ ì ‘ê·¼ ì§€ì‹œì(public, private,..)ì™€ ë¬´ê´€í•˜ê²Œ ì†ì„±ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 
ê·¸ë¦¬ê³  ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ê°€ ìˆì—ˆë‹¤. 

ì´ëŸ¬í•œ ë¦¬í”Œë ‰ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ë””ìì¸í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•œì§€ëŠ” ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì— ë‹¬ë ¤ ìˆë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¬´ì¡°ê±´ ì´ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³  ìƒê°í•˜ì§€ ì•Šì§€ë§Œ,
ì–¸ë¦¬ì–¼ ì—”ì§„ì˜ ê¸°ë³¸ í”„ë ˆì„ì›ì´ ë¦¬í”Œë ‰ì…˜ì„ í™œìš©í•´ì„œ ë§ì´ êµ¬ì¶•ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—
ì–¸ë¦¬ì–¼ ì—”ì§„ì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì´í•´í•˜ëŠ” ê²ƒì€ í•„ìš”í•˜ë‹¤.

1. ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ íŠ¹ì • ì†ì„±ê³¼ í•¨ìˆ˜ë¥¼ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.
2. ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ ì ‘ê·¼ ì§€ì‹œìì™€ ë¬´ê´€í•˜ê²Œ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
3. ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
